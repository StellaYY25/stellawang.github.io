<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Harry Potter Movie Series - Interactive Guide</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Inter:wght@300;400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0f0f23 0%, #1a1a3a 50%, #2d1b69 100%);
            color: #ffffff;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Interactive Navigation */
        .interactive-nav {
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(10px);
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 2px solid rgba(255, 215, 0, 0.3);
        }
        
        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }
        
        .logo {
            font-family: 'Cinzel', serif;
            font-size: 2rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .nav-buttons {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .nav-btn {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #000;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        
        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }
        
        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        
        .modal-content {
            background: linear-gradient(135deg, #1a1a3a, #2d1b69);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 20px;
            width: 90%;
            max-width: 600px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            position: relative;
            max-height: 80vh;
            overflow-y: auto;
        }
        
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
            cursor: pointer;
            line-height: 1;
        }
        
        .close:hover {
            color: #ffd700;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #000428 0%, #004e92 100%);
            padding: 4rem 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><radialGradient id="star" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="%23ffd700" stop-opacity="0.8"/><stop offset="100%" stop-color="%23ffd700" stop-opacity="0"/></radialGradient></defs><circle cx="20" cy="20" r="1" fill="url(%23star)"><animate attributeName="opacity" values="0;1;0" dur="3s" repeatCount="indefinite"/></circle><circle cx="80" cy="30" r="0.5" fill="url(%23star)"><animate attributeName="opacity" values="0;1;0" dur="2s" repeatCount="indefinite"/></circle><circle cx="60" cy="70" r="0.8" fill="url(%23star)"><animate attributeName="opacity" values="0;1;0" dur="4s" repeatCount="indefinite"/></circle></svg>') repeat;
            animation: twinkle 8s linear infinite;
            opacity: 0.3;
        }
        
        @keyframes twinkle {
            0% { transform: translateY(0); }
            100% { transform: translateY(-100px); }
        }
        
        .header-title {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, #ffd700, #ffed4e, #ffd700);
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 8px rgba(255, 215, 0, 0.3);
            margin-bottom: 1rem;
            position: relative;
            z-index: 1;
        }
        
        .tagline {
            font-size: 1.2rem;
            color: #e0e0e0;
            font-weight: 300;
            position: relative;
            z-index: 1;
            margin-bottom: 2rem;
        }
        
        /* Quote Generator */
        .quote-section {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem auto;
            text-align: center;
            border: 1px solid rgba(255, 215, 0, 0.2);
            max-width: 800px;
        }
        
        .quote-text {
            font-size: 1.3rem;
            font-style: italic;
            color: #ffd700;
            margin-bottom: 1rem;
            min-height: 3rem;
        }
        
        .quote-author {
            color: #e0e0e0;
            font-size: 1rem;
        }
        
        .quote-btn {
            background: linear-gradient(135deg, #8B1538, #B71E3B);
            color: #fff;
            border: none;
            padding: 1rem 2rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            margin-top: 1rem;
            transition: all 0.3s ease;
        }
        
        .quote-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 21, 56, 0.4);
        }
        
        /* Section Styling */
        section {
            padding: 4rem 0;
        }
        
        .section-title {
            font-family: 'Cinzel', serif;
            font-size: 2.5rem;
            text-align: center;
            margin-bottom: 3rem;
            color: #ffd700;
            position: relative;
        }
        
        .section-title::after {
            content: '';
            display: block;
            width: 100px;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ffd700, transparent);
            margin: 1rem auto;
        }
        
        /* Movie Cards */
        .movies-grid {
            display: grid;
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .movie-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 2.5rem;
            border: 1px solid rgba(255, 215, 0, 0.3);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .movie-card:hover {
            transform: translateY(-5px);
            border-color: rgba(255, 215, 0, 0.6);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }
        
        .movie-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
            gap: 1rem;
        }
        
        .movie-info {
            flex: 1;
        }
        
        .movie-number {
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #000;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            font-size: 1.2rem;
            flex-shrink: 0;
        }
        
        .movie-title {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            color: #ffd700;
            margin-bottom: 0.5rem;
        }
        
        .movie-details {
            color: #b0b0b0;
            font-size: 0.9rem;
        }
        
        /* Movie Controls */
        .movie-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .watched-checkbox {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            cursor: pointer;
            font-size: 0.9rem;
        }
        
        .watched-checkbox input {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        
        .rating-section {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .stars {
            display: flex;
            gap: 0.2rem;
        }
        
        .star {
            font-size: 1.5rem;
            color: #666;
            cursor: pointer;
            transition: color 0.2s ease;
        }
        
        .star:hover,
        .star.filled {
            color: #ffd700;
        }
        
        .spell-btn {
            background: linear-gradient(135deg, #663399, #9966CC);
            color: #fff;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s ease;
        }
        
        .spell-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(153, 102, 204, 0.4);
        }
        
        /* Plot Summary */
        .plot-summary {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border-left: 4px solid #ffd700;
        }
        
        .plot-summary h4 {
            color: #ffd700;
            margin-bottom: 1rem;
            font-family: 'Cinzel', serif;
        }
        
        /* Highlights */
        .highlights {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .highlight-item {
            background: rgba(255, 215, 0, 0.1);
            padding: 1rem;
            border-radius: 10px;
            border: 1px solid rgba(255, 215, 0, 0.3);
        }
        
        .highlight-item h5 {
            color: #ffd700;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        .highlight-item p {
            font-size: 0.85rem;
            color: #d0d0d0;
        }
        
        /* Progress Tracker */
        .progress-section {
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            text-align: center;
        }
        
        .progress-bar {
            background: rgba(255, 255, 255, 0.1);
            height: 20px;
            border-radius: 10px;
            overflow: hidden;
            margin: 1rem 0;
        }
        
        .progress-fill {
            background: linear-gradient(90deg, #ffd700, #ffed4e);
            height: 100%;
            transition: width 0.3s ease;
            width: 0%;
        }
        
        .progress-text {
            color: #ffd700;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        /* Spell Effects */
        .spell-effect {
            position: fixed;
            pointer-events: none;
            z-index: 999;
            font-size: 2rem;
            animation: spell-animation 2s ease-out forwards;
        }
        
        @keyframes spell-animation {
            0% {
                opacity: 1;
                transform: scale(0.5) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: scale(1.2) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(0.8) rotate(360deg) translateY(-100px);
            }
        }
        
        /* House Badge */
        .house-badge {
            position: fixed;
            top: 100px;
            right: 20px;
            background: rgba(0, 0, 0, 0.8);
            padding: 1rem;
            border-radius: 15px;
            border: 2px solid #ffd700;
            text-align: center;
            z-index: 50;
            min-width: 120px;
        }
        
        .house-badge.gryffindor { border-color: #740001; }
        .house-badge.slytherin { border-color: #1a472a; }
        .house-badge.hufflepuff { border-color: #ffed4a; }
        .house-badge.ravenclaw { border-color: #0e1a40; }
        
        .house-name {
            font-family: 'Cinzel', serif;
            font-weight: 600;
            margin-top: 0.5rem;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            .header-title {
                font-size: 2.5rem;
            }
            
            .nav-container {
                flex-direction: column;
            }
            
            .nav-buttons {
                justify-content: center;
            }
            
            .movie-header {
                flex-direction: column;
                text-align: center;
            }
            
            .movie-controls {
                justify-content: center;
            }
            
            .house-badge {
                position: relative;
                right: auto;
                top: auto;
                margin: 1rem auto;
            }
        }
    </style>
</head>
<body>
    <!-- Interactive Navigation -->
    <nav class="interactive-nav">
        <div class="container">
            <div class="nav-container">
                <div class="logo">Harry Potter Movie Guide</div>
                <div class="nav-buttons">
                    <button class="nav-btn" onclick="openSortingQuiz()">üè∞ Get Sorted</button>
                    <button class="nav-btn" onclick="openCharacterQuiz()">üë§ Character Quiz</button>
                    <button class="nav-btn" onclick="toggleProgress()">üìä My Progress</button>
                    <button class="nav-btn" onclick="castRandomSpell(event)">‚ú® Cast Spell</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- House Badge (hidden initially) -->
    <div id="houseBadge" class="house-badge" style="display: none;">
        <div id="houseEmoji">üè∞</div>
        <div id="houseName" class="house-name">Unknown</div>
    </div>

    <!-- Header -->
    <header>
        <div class="container">
            <h1 class="header-title">Harry Potter Movie Series</h1>
            <p class="tagline">Your Interactive Gateway to the Wizarding World</p>
        </div>
    </header>

    <!-- Quote Generator -->
    <div class="container">
        <div class="quote-section">
            <div id="movieQuote" class="quote-text">"It is our choices that show what we truly are, far more than our abilities."</div>
            <div id="quoteAuthor" class="quote-author">- Albus Dumbledore</div>
            <button class="quote-btn" onclick="generateQuote()">‚ú® New Quote</button>
        </div>
    </div>

    <!-- Progress Section (hidden initially) -->
    <div id="progressSection" class="container" style="display: none;">
        <div class="progress-section">
            <h3>Your Movie Journey Progress</h3>
            <div class="progress-bar">
                <div id="progressFill" class="progress-fill"></div>
            </div>
            <div id="progressText" class="progress-text">0 of 8 movies watched (0%)</div>
        </div>
    </div>

    <!-- Main Content -->
    <main>
        <section class="intro">
            <div class="container">
                <div class="overview">
                    <p style="text-align: center; font-size: 1.1rem; max-width: 800px; margin: 0 auto; color: #e0e0e0;">
                        Step into a world where magic is real, friendships are tested, and the battle between good and evil 
                        unfolds across eight epic films. The Harry Potter movie series brings J.K. Rowling's beloved books to life, 
                        following the journey of a young wizard who discovers his destiny and the power of love, courage, and sacrifice. 
                        Whether you're new to the wizarding world or revisiting the magic, this guide will take you through each film's 
                        unforgettable story.
                    </p>
                </div>
            </div>
        </section>

        <section class="movies">
            <div class="container">
                <h2 class="section-title">The Complete Movie Journey</h2>
                <div class="movies-grid">
                    <!-- Movie 1 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">1</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Philosopher's Stone</h3>
                                <div class="movie-details">2001 ‚Ä¢ Directed by Chris Columbus ‚Ä¢ 152 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="1">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="1">
                                    <span class="star" onclick="setRating(1, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(1, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(1, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(1, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(1, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Lumos')">‚ú® Lumos</button>
                        </div>
                        <div class="plot-summary">
                            <h4>The Magic Begins</h4>
                            <p>On his 11th birthday, Harry Potter discovers he's not just an ordinary boy ‚Äì he's a wizard! Rescued from his cruel relatives by the gentle giant Hagrid, Harry learns he's famous in the wizarding world for surviving an attack by the dark wizard Voldemort as a baby. At Hogwarts School of Witchcraft and Wizardry, Harry finds the family he never had in best friends Ron and Hermione. Together, they uncover a mystery involving the powerful Philosopher's Stone, which grants immortality. But when someone tries to steal it, Harry must face the truth about his past and confront the dark forces that killed his parents.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Harry Potter, Ron Weasley, Hermione Granger, Dumbledore, Hagrid</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Hogwarts Castle, Quidditch, Sorting Hat, Three-headed dog Fluffy</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Finding your place in the world, the power of friendship, good vs. evil</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 2 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">2</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Chamber of Secrets</h3>
                                <div class="movie-details">2002 ‚Ä¢ Directed by Chris Columbus ‚Ä¢ 161 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="2">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="2">
                                    <span class="star" onclick="setRating(2, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(2, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(2, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(2, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(2, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Expelliarmus')">‚ö° Expelliarmus</button>
                        </div>
                        <div class="plot-summary">
                            <h4>The Mystery Deepens</h4>
                            <p>Harry's second year at Hogwarts begins with ominous warnings from a house-elf named Dobby, begging him not to return to school. When Harry ignores the warning, a series of terrifying attacks begin petrifying students. Messages written in blood declare that "the Chamber of Secrets has been opened" and that the "heir of Slytherin" has returned. As fear grips the school, Harry discovers he can speak to snakes ‚Äì a rare and dark ability. When Hermione becomes the latest victim and Ron's sister Ginny disappears into the Chamber itself, Harry must venture into the depths of Hogwarts to face a deadly monster and uncover the truth about the Chamber's dark history.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Dobby, Gilderoy Lockhart, Ginny Weasley, Tom Riddle</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Chamber of Secrets, Basilisk, Fawkes the Phoenix, Tom Riddle's Diary</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Identity and heritage, prejudice, the power of memory</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 3 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">3</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Prisoner of Azkaban</h3>
                                <div class="movie-details">2004 ‚Ä¢ Directed by Alfonso Cuar√≥n ‚Ä¢ 142 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="3">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="3">
                                    <span class="star" onclick="setRating(3, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(3, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(3, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(3, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(3, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Expecto Patronum')">ü¶å Expecto Patronum</button>
                        </div>
                        <div class="plot-summary">
                            <h4>Secrets of the Past</h4>
                            <p>The wizarding world is in panic as the dangerous prisoner Sirius Black escapes from the inescapable Azkaban prison. Believed to be a devoted follower of Voldemort who betrayed Harry's parents, Black is thought to be hunting Harry. As soul-sucking Dementors patrol Hogwarts, Harry learns to defend himself with the Patronus charm from the new Defense Against Dark Arts teacher, Professor Lupin. But everything Harry believes about his past is turned upside down when he discovers the truth about Sirius Black, his connection to Harry's father, and the real betrayer who caused his parents' death. In a night of revelations and time travel, Harry learns that things are not always what they seem.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Sirius Black, Professor Lupin, Professor Snape, Peter Pettigrew</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Dementors, Patronus charm, Time-Turner, Marauder's Map</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Truth vs. perception, the complexity of the past, growing up</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 4 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">4</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Goblet of Fire</h3>
                                <div class="movie-details">2005 ‚Ä¢ Directed by Mike Newell ‚Ä¢ 157 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="4">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="4">
                                    <span class="star" onclick="setRating(4, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(4, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(4, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(4, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(4, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Accio')">ü™Ñ Accio</button>
                        </div>
                        <div class="plot-summary">
                            <h4>The Dark Lord Returns</h4>
                            <p>Hogwarts hosts the dangerous Triwizard Tournament, where champions from three wizarding schools compete in deadly tasks. Despite being underage, Harry's name mysteriously emerges from the Goblet of Fire, forcing him to compete. As Harry faces dragons, underwater rescues, and a deadly maze, he struggles with adolescence, his first crush on Cho Chang, and Ron's jealousy. The tournament culminates in tragedy when Harry and fellow Hogwarts champion Cedric Diggory are transported to a graveyard where Voldemort awaits. Using Harry's blood in a dark ritual, Voldemort returns to physical form. Cedric is murdered, and Harry barely escapes to bring word that the wizarding world's greatest fear has come true ‚Äì Voldemort is back.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Cedric Diggory, Mad-Eye Moody, Rita Skeeter, Cho Chang</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Triwizard Tournament, Hungarian Horntail dragon, Veritaserum, Portkey</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Coming of age, loss of innocence, the return of evil</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 5 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">5</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Order of the Phoenix</h3>
                                <div class="movie-details">2007 ‚Ä¢ David Yates ‚Ä¢ 138 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="5">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="5">
                                    <span class="star" onclick="setRating(5, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(5, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(5, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(5, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(5, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Stupefy')">üí• Stupefy</button>
                        </div>
                        <div class="plot-summary">
                            <h4>The Ministry Denies the Truth</h4>
                            <p>The Ministry of Magic refuses to believe Voldemort has returned, launching a campaign to discredit Harry and Dumbledore. The cruel Dolores Umbridge takes over Hogwarts as High Inquisitor, banning practical defense magic and torturing students with her "discipline." Feeling abandoned and angry, Harry struggles with disturbing visions of Voldemort's actions through their connected minds. With Dumbledore distant and the adults failing them, Harry forms "Dumbledore's Army," secretly teaching students real defense spells. Meanwhile, the Order of the Phoenix ‚Äì a secret organization fighting Voldemort ‚Äì battles Death Eaters in the shadows. The film culminates in a fierce battle at the Ministry, where Harry learns a devastating prophecy about his destiny and suffers a heartbreaking loss when his godfather Sirius Black is killed.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Dolores Umbridge, Luna Lovegood, Bellatrix Lestrange, Order members</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Thestrals, Patronus messages, Department of Mysteries, Prophecy Orbs</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Rebellion against tyranny, the power of teaching, loss and grief</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 6 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">6</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Half-Blood Prince</h3>
                                <div class="movie-details">2009 ‚Ä¢ David Yates ‚Ä¢ 153 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="6">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="6">
                                    <span class="star" onclick="setRating(6, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(6, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(6, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(6, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(6, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Sectumsempra')">‚öîÔ∏è Sectumsempra</button>
                        </div>
                        <div class="plot-summary">
                            <h4>Uncovering Voldemort's Secrets</h4>
                            <p>As Voldemort's power grows stronger, Dumbledore begins private lessons with Harry, exploring memories of Tom Riddle's past to understand how he became the Dark Lord. They discover that Voldemort split his soul into seven pieces, hiding them in objects called Horcruxes to achieve immortality. Meanwhile, Harry excels in Potions class using notes from the mysterious "Half-Blood Prince," while romance blooms throughout Hogwarts ‚Äì Harry finds himself attracted to Ron's sister Ginny, and Ron dates Lavender Brown, making Hermione jealous. As Death Eaters infiltrate Hogwarts, Draco Malfoy struggles with a dark mission from Voldemort. The film ends in tragedy when Dumbledore, weakened from destroying a Horcrux, is killed by Snape on the Astronomy Tower, leaving Harry more alone than ever and Hogwarts without its greatest protector.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Professor Slughorn, young Tom Riddle, Lavender Brown, the Half-Blood Prince</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Horcruxes, Pensieve memories, Felix Felicis (Liquid Luck), Inferi</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>The nature of evil, sacrifice, coming of age, love and loss</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 7 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">7</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Deathly Hallows ‚Äì Part 1</h3>
                                <div class="movie-details">2010 ‚Ä¢ David Yates ‚Ä¢ 146 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="7">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="7">
                                    <span class="star" onclick="setRating(7, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(7, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(7, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(7, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(7, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Protego')">üõ°Ô∏è Protego</button>
                        </div>
                        <div class="plot-summary">
                            <h4>The Hunt for Horcruxes</h4>
                            <p>With Dumbledore gone and Voldemort controlling the Ministry, Harry, Ron, and Hermione abandon their final year at Hogwarts to hunt for the remaining Horcruxes. Living as fugitives in the wilderness, they struggle with the mental and emotional toll of their mission. They learn about the Deathly Hallows ‚Äì three powerful magical objects that could make someone master of death ‚Äì but Harry becomes obsessed with finding them instead of focusing on Horcruxes. The locket Horcrux they carry affects their minds, causing Ron to abandon his friends in jealousy and despair. When Harry and Hermione visit his parents' graves in Godric's Hollow, they're nearly captured by Voldemort. After Ron returns and destroys the locket, they're captured and taken to Malfoy Manor, where Hermione is tortured by Bellatrix Lestrange. They escape with help from Dobby, but the brave house-elf dies protecting them, a heartbreaking loss that strengthens their resolve.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Rufus Scrimgeour, Xenophilius Lovegood, Griphook, Dobby</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Horcrux locket, Deathly Hallows symbol, Polyjuice Potion, Snatchers</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Sacrifice and loyalty, the burden of destiny, loss of innocence</p>
                            </div>
                        </div>
                    </div>

                    <!-- Movie 8 -->
                    <div class="movie-card">
                        <div class="movie-header">
                            <div class="movie-number">8</div>
                            <div class="movie-info">
                                <h3 class="movie-title">Harry Potter and the Deathly Hallows ‚Äì Part 2</h3>
                                <div class="movie-details">2011 ‚Ä¢ David Yates ‚Ä¢ 130 minutes</div>
                            </div>
                        </div>
                        <div class="movie-controls">
                            <label class="watched-checkbox">
                                <input type="checkbox" onchange="updateProgress()" data-movie="8">
                                <span>Watched</span>
                            </label>
                            <div class="rating-section">
                                <span>Rate:</span>
                                <div class="stars" data-movie="8">
                                    <span class="star" onclick="setRating(8, 1)">‚òÖ</span>
                                    <span class="star" onclick="setRating(8, 2)">‚òÖ</span>
                                    <span class="star" onclick="setRating(8, 3)">‚òÖ</span>
                                    <span class="star" onclick="setRating(8, 4)">‚òÖ</span>
                                    <span class="star" onclick="setRating(8, 5)">‚òÖ</span>
                                </div>
                            </div>
                            <button class="spell-btn" onclick="castSpell(event, 'Avada Kedavra')">üíÄ Avada Kedavra</button>
                        </div>
                        <div class="plot-summary">
                            <h4>The Final Battle</h4>
                            <p>The epic conclusion begins as Harry, Ron, and Hermione break into Gringotts Bank to steal a Horcrux from Bellatrix's vault, escaping on a dragon. They return to Hogwarts, now under Death Eater control, to find the remaining Horcruxes. As Voldemort's forces surround the castle, the Order of the Phoenix and Hogwarts defenders prepare for the Battle of Hogwarts. In heartbreaking moments, beloved characters fall including Fred Weasley, Lupin, and Tonks. Harry discovers that he himself is a Horcrux ‚Äì part of Voldemort's soul lives within him, and he must die for Voldemort to be defeated. In the film's most powerful scene, Harry walks into the Forbidden Forest to sacrifice himself. But love proves stronger than death, and Harry survives while the Horcrux within him is destroyed. In the final confrontation, Harry and Voldemort duel while the battle rages around them, ending when Voldemort's killing curse rebounds and destroys him forever. The series concludes 19 years later, showing our heroes as adults sending their own children to Hogwarts.</p>
                        </div>
                        <div class="highlights">
                            <div class="highlight-item">
                                <h5>Key Characters</h5>
                                <p>Professor McGonagall, Neville Longbottom, Mrs. Weasley, Nagini</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Magical Elements</h5>
                                <p>Gringotts dragon, Room of Requirement, Fiendfyre, Elder Wand</p>
                            </div>
                            <div class="highlight-item">
                                <h5>Themes</h5>
                                <p>Ultimate sacrifice, the power of love, good triumphing over evil</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Sorting Quiz Modal -->
    <div id="sortingModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeSortingQuiz()">&times;</span>
            <h2 style="text-align: center; color: #ffd700; margin-bottom: 2rem;">üè∞ Hogwarts House Sorting</h2>
            <div id="sortingQuestion">
                <p id="questionText" style="font-size: 1.1rem; margin-bottom: 2rem; text-align: center;">Welcome to the Sorting Hat ceremony! Answer these questions honestly to discover your true Hogwarts house.</p>
                <div id="questionOptions" style="display: flex; flex-direction: column; gap: 1rem;">
                    <button class="nav-btn" onclick="startSorting()" style="width: 100%;">Begin Sorting</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Character Quiz Modal -->
    <div id="characterModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeCharacterQuiz()">&times;</span>
            <h2 style="text-align: center; color: #ffd700; margin-bottom: 2rem;">üë§ Which Character Are You?</h2>
            <div id="characterQuestion">
                <p id="charQuestionText" style="font-size: 1.1rem; margin-bottom: 2rem; text-align: center;">Discover which Harry Potter character you're most like!</p>
                <div id="charQuestionOptions" style="display: flex; flex-direction: column; gap: 1rem;">
                    <button class="nav-btn" onclick="startCharacterQuiz()" style="width: 100%;">Start Character Quiz</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Movie quotes database
        const quotes = [
            {
                text: "It is our choices that show what we truly are, far more than our abilities.",
                author: "Albus Dumbledore"
            },
            {
                text: "Happiness can be found even in the darkest of times, if one only remembers to turn on the light.",
                author: "Albus Dumbledore"
            },
            {
                text: "After all this time? Always.",
                author: "Severus Snape"
            },
            {
                text: "I solemnly swear that I am up to no good.",
                author: "Harry Potter"
            },
            {
                text: "It does not do to dwell on dreams and forget to live.",
                author: "Albus Dumbledore"
            },
            {
                text: "We've all got both light and dark inside us. What matters is the part we choose to act on.",
                author: "Sirius Black"
            },
            {
                text: "Don't let the Muggles get you down.",
                author: "Ron Weasley"
            },
            {
                text: "Books! And cleverness! There are more important things ‚Äî friendship and bravery.",
                author: "Hermione Granger"
            }
        ];

        // Sorting Hat questions
        const sortingQuestions = [
            {
                question: "What quality do you value most?",
                answers: [
                    { text: "Courage", house: "gryffindor" },
                    { text: "Wisdom", house: "ravenclaw" },
                    { text: "Loyalty", house: "hufflepuff" },
                    { text: "Ambition", house: "slytherin" }
                ]
            },
            {
                question: "What's your greatest fear?",
                answers: [
                    { text: "Being ordinary", house: "gryffindor" },
                    { text: "Being ignorant", house: "ravenclaw" },
                    { text: "Being alone", house: "hufflepuff" },
                    { text: "Being powerless", house: "slytherin" }
                ]
            },
            {
                question: "What magical creature appeals to you most?",
                answers: [
                    { text: "Phoenix", house: "gryffindor" },
                    { text: "Dragon", house: "ravenclaw" },
                    { text: "Unicorn", house: "hufflepuff" },
                    { text: "Basilisk", house: "slytherin" }
                ]
            },
            {
                question: "What would you do with a Time-Turner?",
                answers: [
                    { text: "Save someone in danger", house: "gryffindor" },
                    { text: "Learn from great minds of the past", house: "ravenclaw" },
                    { text: "Spend more time with loved ones", house: "hufflepuff" },
                    { text: "Gain knowledge to get ahead", house: "slytherin" }
                ]
            }
        ];

        // Character quiz questions
        const characterQuestions = [
            {
                question: "How do you approach problems?",
                answers: [
                    { text: "Jump in headfirst", character: "Harry Potter" },
                    { text: "Research thoroughly first", character: "Hermione Granger" },
                    { text: "Ask friends for help", character: "Ron Weasley" },
                    { text: "Find a clever workaround", character: "Luna Lovegood" }
                ]
            },
            {
                question: "What's your ideal weekend?",
                answers: [
                    { text: "Adventure and excitement", character: "Harry Potter" },
                    { text: "Reading and learning", character: "Hermione Granger" },
                    { text: "Hanging out with friends", character: "Ron Weasley" },
                    { text: "Exploring strange places", character: "Luna Lovegood" }
                ]
            },
            {
                question: "What motivates you most?",
                answers: [
                    { text: "Protecting others", character: "Harry Potter" },
                    { text: "Making a difference", character: "Hermione Granger" },
                    { text: "Loyalty to family", character: "Ron Weasley" },
                    { text: "Following your own path", character: "Luna Lovegood" }
                ]
            }
        ];

        let currentSortingQuestion = 0;
        let houseScores = { gryffindor: 0, ravenclaw: 0, hufflepuff: 0, slytherin: 0 };
        let currentCharacterQuestion = 0;
        let characterScores = { "Harry Potter": 0, "Hermione Granger": 0, "Ron Weasley": 0, "Luna Lovegood": 0 };

        // Progress tracking
        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"][data-movie]');
            const watched = Array.from(checkboxes).filter(cb => cb.checked).length;
            const total = checkboxes.length;
            const percentage = Math.round((watched / total) * 100);
            
            document.getElementById('progressFill').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `${watched} of ${total} movies watched (${percentage}%)`;
            
            // Save to localStorage
            const watchedMovies = Array.from(checkboxes)
                .filter(cb => cb.checked)
                .map(cb => cb.getAttribute('data-movie'));
            localStorage.setItem('watchedMovies', JSON.stringify(watchedMovies));
        }

        // Load saved progress
        function loadProgress() {
            const saved = localStorage.getItem('watchedMovies');
            if (saved) {
                const watchedMovies = JSON.parse(saved);
                watchedMovies.forEach(movieId => {
                    const checkbox = document.querySelector(`input[data-movie="${movieId}"]`);
                    if (checkbox) checkbox.checked = true;
                });
                updateProgress();
            }
        }

        // Rating system
        function setRating(movie, rating) {
            const stars = document.querySelectorAll(`.stars[data-movie="${movie}"] .star`);
            stars.forEach((star, index) => {
                star.classList.toggle('filled', index < rating);
            });
            
            // Save rating
            let ratings = JSON.parse(localStorage.getItem('movieRatings') || '{}');
            ratings[movie] = rating;
            localStorage.setItem('movieRatings', JSON.stringify(ratings));
        }

        // Load saved ratings
        function loadRatings() {
            const ratings = JSON.parse(localStorage.getItem('movieRatings') || '{}');
            Object.entries(ratings).forEach(([movie, rating]) => {
                setRating(parseInt(movie), rating);
            });
        }

        // Quote generator
        function generateQuote() {
            const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
            document.getElementById('movieQuote').textContent = `"${randomQuote.text}"`;
            document.getElementById('quoteAuthor').textContent = `- ${randomQuote.author}`;
        }

        // Spell casting effects
        function castSpell(event, spellName) {
            const spell = document.createElement('div');
            spell.className = 'spell-effect';
            spell.textContent = getSpellEmoji(spellName);
            spell.style.left = event.clientX + 'px';
            spell.style.top = event.clientY + 'px';
            document.body.appendChild(spell);
            
            setTimeout(() => {
                document.body.removeChild(spell);
            }, 2000);
        }

        function castRandomSpell(event) {
            const spells = ['Lumos', 'Expelliarmus', 'Expecto Patronum', 'Accio', 'Stupefy', 'Protego'];
            const randomSpell = spells[Math.floor(Math.random() * spells.length)];
            castSpell(event, randomSpell);
        }

        function getSpellEmoji(spellName) {
            const spellEmojis = {
                'Lumos': 'üí°‚ú®',
                'Expelliarmus': '‚ö°üí´',
                'Expecto Patronum': 'ü¶å‚ú®',
                'Accio': 'ü™Ñüí®',
                'Stupefy': 'üí•‚ö°',
                'Protego': 'üõ°Ô∏è‚ú®',
                'Sectumsempra': '‚öîÔ∏èüí´',
                'Avada Kedavra': 'üíÄ‚ö°'
            };
            return spellEmojis[spellName] || '‚ú®';
        }

        // Toggle progress section
        function toggleProgress() {
            const section = document.getElementById('progressSection');
            section.style.display = section.style.display === 'none' ? 'block' : 'none';
        }

        // Sorting Hat Quiz
        function openSortingQuiz() {
            document.getElementById('sortingModal').style.display = 'block';
        }

        function closeSortingQuiz() {
            document.getElementById('sortingModal').style.display = 'none';
            currentSortingQuestion = 0;
            houseScores = { gryffindor: 0, ravenclaw: 0, hufflepuff: 0, slytherin: 0 };
        }

        function startSorting() {
            currentSortingQuestion = 0;
            houseScores = { gryffindor: 0, ravenclaw: 0, hufflepuff: 0, slytherin: 0 };
            showSortingQuestion();
        }

        function showSortingQuestion() {
            if (currentSortingQuestion >= sortingQuestions.length) {
                showSortingResult();
                return;
            }

            const question = sortingQuestions[currentSortingQuestion];
            document.getElementById('questionText').textContent = question.question;
            
            const options = document.getElementById('questionOptions');
            options.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'nav-btn';
                button.textContent = answer.text;
                button.style.width = '100%';
                button.onclick = () => selectSortingAnswer(answer.house);
                options.appendChild(button);
            });
        }

        function selectSortingAnswer(house) {
            houseScores[house]++;
            currentSortingQuestion++;
            showSortingQuestion();
        }

        function showSortingResult() {
            const winningHouse = Object.keys(houseScores).reduce((a, b) => houseScores[a] > houseScores[b] ? a : b);
            
            const houseInfo = {
                gryffindor: { name: 'Gryffindor', emoji: 'ü¶Å', color: '#740001' },
                ravenclaw: { name: 'Ravenclaw', emoji: 'ü¶Ö', color: '#0e1a40' },
                hufflepuff: { name: 'Hufflepuff', emoji: 'ü¶°', color: '#ffed4a' },
                slytherin: { name: 'Slytherin', emoji: 'üêç', color: '#1a472a' }
            };
            
            const house = houseInfo[winningHouse];
            
            document.getElementById('questionText').innerHTML = `
                <div style="text-align: center; font-size: 2rem; margin-bottom: 1rem;">${house.emoji}</div>
                <h3 style="color: ${house.color}; margin-bottom: 1rem;">Welcome to ${house.name}!</h3>
                <p>The Sorting Hat has spoken! You belong in ${house.name} house.</p>
            `;
            
            document.getElementById('questionOptions').innerHTML = `
                <button class="nav-btn" onclick="closeSortingQuiz()" style="width: 100%;">Excellent!</button>
            `;
            
            // Show house badge
            const badge = document.getElementById('houseBadge');
            const houseEmoji = document.getElementById('houseEmoji');
            const houseName = document.getElementById('houseName');
            
            badge.className = `house-badge ${winningHouse}`;
            houseEmoji.textContent = house.emoji;
            houseName.textContent = house.name;
            badge.style.display = 'block';
            
            // Save to localStorage
            localStorage.setItem('hogwartsHouse', winningHouse);
        }

        // Character Quiz
        function openCharacterQuiz() {
            document.getElementById('characterModal').style.display = 'block';
        }

        function closeCharacterQuiz() {
            document.getElementById('characterModal').style.display = 'none';
            currentCharacterQuestion = 0;
            characterScores = { "Harry Potter": 0, "Hermione Granger": 0, "Ron Weasley": 0, "Luna Lovegood": 0 };
        }

        function startCharacterQuiz() {
            currentCharacterQuestion = 0;
            characterScores = { "Harry Potter": 0, "Hermione Granger": 0, "Ron Weasley": 0, "Luna Lovegood": 0 };
            showCharacterQuestion();
        }

        function showCharacterQuestion() {
            if (currentCharacterQuestion >= characterQuestions.length) {
                showCharacterResult();
                return;
            }

            const question = characterQuestions[currentCharacterQuestion];
            document.getElementById('charQuestionText').textContent = question.question;
            
            const options = document.getElementById('charQuestionOptions');
            options.innerHTML = '';
            
            question.answers.forEach((answer, index) => {
                const button = document.createElement('button');
                button.className = 'nav-btn';
                button.textContent = answer.text;
                button.style.width = '100%';
                button.onclick = () => selectCharacterAnswer(answer.character);
                options.appendChild(button);
            });
        }

        function selectCharacterAnswer(character) {
            characterScores[character]++;
            currentCharacterQuestion++;
            showCharacterQuestion();
        }

        function showCharacterResult() {
            const winningCharacter = Object.keys(characterScores).reduce((a, b) => characterScores[a] > characterScores[b] ? a : b);
            
            const characterInfo = {
                "Harry Potter": { emoji: '‚ö°', desc: "You're brave, loyal, and willing to sacrifice for others!" },
                "Hermione Granger": { emoji: 'üìö', desc: "You're intelligent, logical, and always prepared!" },
                "Ron Weasley": { emoji: '‚ôüÔ∏è', desc: "You're loyal, funny, and a great friend!" },
                "Luna Lovegood": { emoji: 'ü¶ã', desc: "You're unique, creative, and see the world differently!" }
            };
            
            const character = characterInfo[winningCharacter];
            
            document.getElementById('charQuestionText').innerHTML = `
                <div style="text-align: center; font-size: 3rem; margin-bottom: 1rem;">${character.emoji}</div>
                <h3 style="color: #ffd700; margin-bottom: 1rem;">You are ${winningCharacter}!</h3>
                <p>${character.desc}</p>
            `;
            
            document.getElementById('charQuestionOptions').innerHTML = `
                <button class="nav-btn" onclick="closeCharacterQuiz()" style="width: 100%;">Awesome!</button>
            `;
        }

        // Load saved house badge
        function loadHouseBadge() {
            const savedHouse = localStorage.getItem('hogwartsHouse');
            if (savedHouse) {
                const houseInfo = {
                    gryffindor: { name: 'Gryffindor', emoji: 'ü¶Å' },
                    ravenclaw: { name: 'Ravenclaw', emoji: 'ü¶Ö' },
                    hufflepuff: { name: 'Hufflepuff', emoji: 'ü¶°' },
                    slytherin: { name: 'Slytherin', emoji: 'üêç' }
                };
                
                const house = houseInfo[savedHouse];
                const badge = document.getElementById('houseBadge');
                const houseEmoji = document.getElementById('houseEmoji');
                const houseName = document.getElementById('houseName');
                
                badge.className = `house-badge ${savedHouse}`;
                houseEmoji.textContent = house.emoji;
                houseName.textContent = house.name;
                badge.style.display = 'block';
            }
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            loadRatings();
            loadHouseBadge();
            generateQuote();
            
            // Close modals when clicking outside
            window.addEventListener('click', function(event) {
                const sortingModal = document.getElementById('sortingModal');
                const characterModal = document.getElementById('characterModal');
                
                if (event.target === sortingModal) {
                    closeSortingQuiz();
                }
                if (event.target === characterModal) {
                    closeCharacterQuiz();
                }
            });
        });
    </script>
</body>
</html>
